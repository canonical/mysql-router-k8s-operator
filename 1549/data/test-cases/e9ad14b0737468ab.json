{"uid":"e9ad14b0737468ab","name":"test_fail_and_rollback","fullName":"tests.integration.test_upgrade#test_fail_and_rollback","historyId":"997774fbf319c1a457fb1c7123a70c21","time":{"start":1721526054401,"stop":1721526263358,"duration":208957},"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    ","descriptionHtml":"<p>Upgrade to an invalid version and test rollback.</p>\n<pre><code>Relies on the charm built in the previous test (test_upgrade_from_edge).\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1721525742434,"stop":1721525742434,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1721525742435,"stop":1721525742657,"duration":222},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1721525742435,"stop":1721525742435,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1721526054400,"stop":1721526054400,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1721526054401,"stop":1721526054401,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    ","status":"passed","steps":[],"attachments":[{"uid":"5906e0e9b882aca7","name":"log","source":"5906e0e9b882aca7.txt","type":"text/plain","size":3952}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1721526263358,"stop":1721526263359,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1721526263359,"stop":1721526263786,"duration":427},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1721526263786,"stop":1721526263787,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1721526263787,"stop":1721526263787,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1721526263787,"stop":1721526263787,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_upgrade"},{"name":"host","value":"fv-az1149-759"},{"name":"thread","value":"12670-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_upgrade"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"622e85eb0891abaa","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":4,"skipped":5,"passed":42,"unknown":1,"total":52},"items":[{"uid":"c57932ac39f95d19","reportUrl":"../1548//#testresult/c57932ac39f95d19","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1721439550962,"stop":1721439550962,"duration":0}},{"uid":"5e76e1381f621d9","reportUrl":"../1546//#testresult/5e76e1381f621d9","status":"passed","time":{"start":1721356534989,"stop":1721356742243,"duration":207254}},{"uid":"2db94734ee819d65","reportUrl":"../1543//#testresult/2db94734ee819d65","status":"passed","time":{"start":1721266899309,"stop":1721267103997,"duration":204688}},{"uid":"ee02bec457ab7bd4","reportUrl":"../1541//#testresult/ee02bec457ab7bd4","status":"passed","time":{"start":1721180543536,"stop":1721180766194,"duration":222658}},{"uid":"96ab3bb3b2e1922c","reportUrl":"../1539//#testresult/96ab3bb3b2e1922c","status":"passed","time":{"start":1721094167521,"stop":1721094371137,"duration":203616}},{"uid":"cdf601564ce0ae2c","reportUrl":"../1537//#testresult/cdf601564ce0ae2c","status":"passed","time":{"start":1721007837925,"stop":1721008054601,"duration":216676}},{"uid":"146ff6c7ad92dca","reportUrl":"../1536//#testresult/146ff6c7ad92dca","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql-router-k8s/0 [idle] active: Router 8.0.37+testupgrade running (restart pending); Charmed operator 1.2+c5db3af\n  mysql-router-k8s/1 [idle] active: Router 8.0.37+testupgrade running (restart pending); Charmed operator 1.2+c5db3af\n  mysql-router-k8s/2 [idle] active: Router 8.0.37+testupgrade running; Charmed operator 1.2+c5db3af","time":{"start":1720921251017,"stop":1720922534337,"duration":1283320}},{"uid":"3f2eca3b2359f59","reportUrl":"../1535//#testresult/3f2eca3b2359f59","status":"passed","time":{"start":1720834907519,"stop":1720835118105,"duration":210586}},{"uid":"985006d2734a48e2","reportUrl":"../1532//#testresult/985006d2734a48e2","status":"unknown","time":{}},{"uid":"f9f01b14f685dc89","reportUrl":"../1529//#testresult/f9f01b14f685dc89","status":"passed","time":{"start":1720662314827,"stop":1720662521388,"duration":206561}},{"uid":"e8a726623304d20c","reportUrl":"../1528//#testresult/e8a726623304d20c","status":"passed","time":{"start":1720575829021,"stop":1720576041506,"duration":212485}},{"uid":"ce8dd3fec1d3e2eb","reportUrl":"../1524//#testresult/ce8dd3fec1d3e2eb","status":"passed","time":{"start":1720489532435,"stop":1720489736328,"duration":203893}},{"uid":"fb4fe58bc69d6582","reportUrl":"../1515//#testresult/fb4fe58bc69d6582","status":"passed","time":{"start":1720402888262,"stop":1720403101318,"duration":213056}},{"uid":"de05912572b9a56b","reportUrl":"../1514//#testresult/de05912572b9a56b","status":"passed","time":{"start":1720316560709,"stop":1720316772662,"duration":211953}},{"uid":"6eb52b067bad95b7","reportUrl":"../1512//#testresult/6eb52b067bad95b7","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql-router-k8s/0 [idle] active: Router 8.0.37+testupgrade running (restart pending); Charmed operator 1.2+ee5d2ff\n  mysql-router-k8s/1 [idle] active: Router 8.0.37+testupgrade running (restart pending); Charmed operator 1.2+ee5d2ff\n  mysql-router-k8s/2 [idle] active: Router 8.0.37+testupgrade running; Charmed operator 1.2+ee5d2ff","time":{"start":1720143746359,"stop":1720145020148,"duration":1273789}},{"uid":"425f51047bcd7581","reportUrl":"../1511//#testresult/425f51047bcd7581","status":"passed","time":{"start":1720057281505,"stop":1720057485139,"duration":203634}},{"uid":"6d0112fd9fdcccc6","reportUrl":"../1501//#testresult/6d0112fd9fdcccc6","status":"passed","time":{"start":1719971241950,"stop":1719971455466,"duration":213516}},{"uid":"70ae2a8c089ece3b","reportUrl":"../1493//#testresult/70ae2a8c089ece3b","status":"passed","time":{"start":1719884455753,"stop":1719884657456,"duration":201703}},{"uid":"4fb5ea7061f600e3","reportUrl":"../1488//#testresult/4fb5ea7061f600e3","status":"passed","time":{"start":1719798117778,"stop":1719798330125,"duration":212347}},{"uid":"eadc0000f447ed07","reportUrl":"../1487//#testresult/eadc0000f447ed07","status":"passed","time":{"start":1719711692127,"stop":1719711895669,"duration":203542}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"e9ad14b0737468ab.json","parameterValues":[]}