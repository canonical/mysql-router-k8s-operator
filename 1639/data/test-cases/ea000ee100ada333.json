{"uid":"ea000ee100ada333","name":"test_fail_and_rollback","fullName":"tests.integration.test_upgrade#test_fail_and_rollback","historyId":"997774fbf319c1a457fb1c7123a70c21","time":{"start":1723858871835,"stop":1723859079494,"duration":207659},"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    ","descriptionHtml":"<p>Upgrade to an invalid version and test rollback.</p>\n<pre><code>Relies on the charm built in the previous test (test_upgrade_from_edge).\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1723858563997,"stop":1723858563997,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1723858563998,"stop":1723858564223,"duration":225},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1723858563998,"stop":1723858563998,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1723858871834,"stop":1723858871835,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1723858871834,"stop":1723858871834,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    ","status":"passed","steps":[],"attachments":[{"uid":"963ecbffee44dd25","name":"log","source":"963ecbffee44dd25.txt","type":"text/plain","size":4025}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1723859079495,"stop":1723859079495,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1723859079495,"stop":1723859079930,"duration":435},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1723859079931,"stop":1723859079931,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1723859079931,"stop":1723859079931,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1723859079931,"stop":1723859079931,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_upgrade"},{"name":"host","value":"fv-az1269-438"},{"name":"thread","value":"12933-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_upgrade"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"bc0b0ec7e6c20f80","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":6,"skipped":12,"passed":60,"unknown":1,"total":79},"items":[{"uid":"de5fafb2b0396590","reportUrl":"../1632//#testresult/de5fafb2b0396590","status":"passed","time":{"start":1723772456891,"stop":1723772676830,"duration":219939}},{"uid":"d2d8571d8a0f653a","reportUrl":"../1631//#testresult/d2d8571d8a0f653a","status":"passed","time":{"start":1723686061525,"stop":1723686273092,"duration":211567}},{"uid":"fadd8a223bf74c6","reportUrl":"../1628//#testresult/fadd8a223bf74c6","status":"passed","time":{"start":1723599869265,"stop":1723600081394,"duration":212129}},{"uid":"606e6937bec9be7","reportUrl":"../1625//#testresult/606e6937bec9be7","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1723513285143,"stop":1723513285143,"duration":0}},{"uid":"84df79a852e2fb5f","reportUrl":"../1613//#testresult/84df79a852e2fb5f","status":"passed","time":{"start":1723427305169,"stop":1723427509426,"duration":204257}},{"uid":"cc32bb1ba1968bdf","reportUrl":"../1612//#testresult/cc32bb1ba1968bdf","status":"passed","time":{"start":1723340699053,"stop":1723340908973,"duration":209920}},{"uid":"a2d02754494628c7","reportUrl":"../1611//#testresult/a2d02754494628c7","status":"passed","time":{"start":1723254576733,"stop":1723254780302,"duration":203569}},{"uid":"56291449d153d2b2","reportUrl":"../1606//#testresult/56291449d153d2b2","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql-router-k8s/0 [idle] active: Router 8.0.37+testupgrade running (restart pending); Charmed operator 1.2+cd85a84\n  mysql-router-k8s/1 [idle] active: Router 8.0.37+testupgrade running (restart pending); Charmed operator 1.2+cd85a84\n  mysql-router-k8s/2 [idle] active: Router 8.0.37+testupgrade running; Charmed operator 1.2+cd85a84","time":{"start":1723167696362,"stop":1723168971641,"duration":1275279}},{"uid":"6d7d01f41e704847","reportUrl":"../1604//#testresult/6d7d01f41e704847","status":"passed","time":{"start":1723081490358,"stop":1723081693938,"duration":203580}},{"uid":"e78689d52484abc7","reportUrl":"../1601//#testresult/e78689d52484abc7","status":"passed","time":{"start":1722994989666,"stop":1722995192933,"duration":203267}},{"uid":"256936a4eaddec75","reportUrl":"../1598//#testresult/256936a4eaddec75","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1722909371105,"stop":1722909371105,"duration":0}},{"uid":"8041269bb7567dca","reportUrl":"../1595//#testresult/8041269bb7567dca","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1722823061614,"stop":1722823061614,"duration":0}},{"uid":"c0480d5d48702f96","reportUrl":"../1594//#testresult/c0480d5d48702f96","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1722736694869,"stop":1722736694869,"duration":0}},{"uid":"e032b632e018f965","reportUrl":"../1593//#testresult/e032b632e018f965","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1722650022113,"stop":1722650022113,"duration":0}},{"uid":"7ee54cf5492a00f5","reportUrl":"../1591//#testresult/7ee54cf5492a00f5","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1722563643289,"stop":1722563643289,"duration":0}},{"uid":"fc642f7c944a541a","reportUrl":"../1589//#testresult/fc642f7c944a541a","status":"passed","time":{"start":1722476459109,"stop":1722476672168,"duration":213059}},{"uid":"b2d532baaa2fc155","reportUrl":"../1587//#testresult/b2d532baaa2fc155","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1722389630201,"stop":1722389630201,"duration":0}},{"uid":"87f0d46076152eef","reportUrl":"../1586//#testresult/87f0d46076152eef","status":"passed","time":{"start":1722303665862,"stop":1722303875273,"duration":209411}},{"uid":"800ea46c22d54b6a","reportUrl":"../1578//#testresult/800ea46c22d54b6a","status":"passed","time":{"start":1722217235152,"stop":1722217449453,"duration":214301}},{"uid":"3d72e3e0d70de20e","reportUrl":"../1577//#testresult/3d72e3e0d70de20e","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql-router-k8s/0 [idle] active: Router 8.0.37+testupgrade running (restart pending); Charmed operator 1.2+ae2e8eb\n  mysql-router-k8s/1 [idle] active: Router 8.0.37+testupgrade running (restart pending); Charmed operator 1.2+ae2e8eb\n  mysql-router-k8s/2 [idle] active: Router 8.0.37+testupgrade running; Charmed operator 1.2+ae2e8eb","time":{"start":1722130844700,"stop":1722132117458,"duration":1272758}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"ea000ee100ada333.json","parameterValues":[]}