{"uid":"70ae2a8c089ece3b","name":"test_fail_and_rollback","fullName":"tests.integration.test_upgrade#test_fail_and_rollback","historyId":"997774fbf319c1a457fb1c7123a70c21","time":{"start":1719884455753,"stop":1719884657456,"duration":201703},"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    ","descriptionHtml":"<p>Upgrade to an invalid version and test rollback.</p>\n<pre><code>Relies on the charm built in the previous test (test_upgrade_from_edge).\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1719884150651,"stop":1719884150652,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1719884150651,"stop":1719884150651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1719884150652,"stop":1719884150915,"duration":263},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1719884455753,"stop":1719884455753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1719884455753,"stop":1719884455753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    ","status":"passed","steps":[],"attachments":[{"uid":"b1493f343f219b8","name":"log","source":"b1493f343f219b8.txt","type":"text/plain","size":5667}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"ops_test::finalizer","time":{"start":1719884657457,"stop":1719884676948,"duration":19491},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1719884657457,"stop":1719884657457,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1719884676948,"stop":1719884676949,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1719884676949,"stop":1719884676949,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1719884676949,"stop":1719884676949,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_upgrade"},{"name":"host","value":"fv-az1020-770"},{"name":"thread","value":"12502-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_upgrade"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"a1a1f33fa655525e","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":2,"skipped":4,"passed":28,"unknown":0,"total":34},"items":[{"uid":"4fb5ea7061f600e3","reportUrl":"../1488//#testresult/4fb5ea7061f600e3","status":"passed","time":{"start":1719798117778,"stop":1719798330125,"duration":212347}},{"uid":"eadc0000f447ed07","reportUrl":"../1487//#testresult/eadc0000f447ed07","status":"passed","time":{"start":1719711692127,"stop":1719711895669,"duration":203542}},{"uid":"330b9f175156934","reportUrl":"../1486//#testresult/330b9f175156934","status":"passed","time":{"start":1719625361603,"stop":1719625573921,"duration":212318}},{"uid":"a2fad21461d1e77f","reportUrl":"../1482//#testresult/a2fad21461d1e77f","status":"passed","time":{"start":1719538880627,"stop":1719539086631,"duration":206004}},{"uid":"80229a83f9a8d328","reportUrl":"../1473//#testresult/80229a83f9a8d328","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1719365827944,"stop":1719365827944,"duration":0}},{"uid":"cb66735416c78314","reportUrl":"../1465//#testresult/cb66735416c78314","status":"passed","time":{"start":1719279647655,"stop":1719279852140,"duration":204485}},{"uid":"ec6f4cacb523ba78","reportUrl":"../1462//#testresult/ec6f4cacb523ba78","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql-router-k8s/0 [idle] active: Router 8.0.36+testupgrade running (restart pending); Charmed operator 1.2+d6f3e57\n  mysql-router-k8s/1 [idle] active: Router 8.0.36+testupgrade running (restart pending); Charmed operator 1.2+d6f3e57\n  mysql-router-k8s/2 [idle] active: Router 8.0.36+testupgrade running; Charmed operator 1.2+d6f3e57","time":{"start":1719193286836,"stop":1719194569900,"duration":1283064}},{"uid":"acea1379ae732a35","reportUrl":"../1461//#testresult/acea1379ae732a35","status":"passed","time":{"start":1719106882338,"stop":1719107111267,"duration":228929}},{"uid":"dfab71be19b4b803","reportUrl":"../1460//#testresult/dfab71be19b4b803","status":"passed","time":{"start":1719020447091,"stop":1719020651081,"duration":203990}},{"uid":"6e699107fb9c5c03","reportUrl":"../1458//#testresult/6e699107fb9c5c03","status":"passed","time":{"start":1718934048793,"stop":1718934263293,"duration":214500}},{"uid":"7da34d27ef9f931","reportUrl":"../1455//#testresult/7da34d27ef9f931","status":"passed","time":{"start":1718847626673,"stop":1718847845959,"duration":219286}},{"uid":"ffec79dff73d09cb","reportUrl":"../1453//#testresult/ffec79dff73d09cb","status":"passed","time":{"start":1718761307659,"stop":1718761531855,"duration":224196}},{"uid":"bffdc3a75ce17324","reportUrl":"../1448//#testresult/bffdc3a75ce17324","status":"passed","time":{"start":1718674857889,"stop":1718675062306,"duration":204417}},{"uid":"54d12141e89944fe","reportUrl":"../1443//#testresult/54d12141e89944fe","status":"passed","time":{"start":1718588480277,"stop":1718588680478,"duration":200201}},{"uid":"c11e79eaba3799e3","reportUrl":"../1442//#testresult/c11e79eaba3799e3","status":"passed","time":{"start":1718502092240,"stop":1718502296165,"duration":203925}},{"uid":"6c284f8fa55e5cba","reportUrl":"../1441//#testresult/6c284f8fa55e5cba","status":"passed","time":{"start":1718415684211,"stop":1718415887811,"duration":203600}},{"uid":"568f038421cb4853","reportUrl":"../1436//#testresult/568f038421cb4853","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql-router-k8s/0 [idle] active: Router 8.0.36+testupgrade running (restart pending); Charmed operator 1.2+1a28465\n  mysql-router-k8s/1 [idle] active: Router 8.0.36+testupgrade running (restart pending); Charmed operator 1.2+1a28465\n  mysql-router-k8s/2 [idle] active: Router 8.0.36+testupgrade running; Charmed operator 1.2+1a28465","time":{"start":1718329253245,"stop":1718330525257,"duration":1272012}},{"uid":"e19a54222bb85943","reportUrl":"../1430//#testresult/e19a54222bb85943","status":"passed","time":{"start":1718242843113,"stop":1718243063768,"duration":220655}},{"uid":"5287fcadcb14b1b4","reportUrl":"../1429//#testresult/5287fcadcb14b1b4","status":"passed","time":{"start":1718157160688,"stop":1718157365522,"duration":204834}},{"uid":"9e7abe32d7f5da66","reportUrl":"../1420//#testresult/9e7abe32d7f5da66","status":"passed","time":{"start":1718071008452,"stop":1718071200958,"duration":192506}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"70ae2a8c089ece3b.json","parameterValues":[]}