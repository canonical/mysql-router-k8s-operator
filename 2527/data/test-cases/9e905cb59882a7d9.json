{"uid":"9e905cb59882a7d9","name":"test_fail_and_rollback","fullName":"tests.integration.test_upgrade#test_fail_and_rollback","historyId":"997774fbf319c1a457fb1c7123a70c21","time":{"start":1738978950624,"stop":1738979155353,"duration":204729},"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    ","descriptionHtml":"<p>Upgrade to an invalid version and test rollback.</p>\n<pre><code>Relies on the charm built in the previous test (test_upgrade_from_edge).\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1738978651259,"stop":1738978651259,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1738978651259,"stop":1738978651488,"duration":229},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1738978651259,"stop":1738978651259,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1738978950624,"stop":1738978950624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1738978950624,"stop":1738978950624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1738978950624,"stop":1738978950624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    ","status":"passed","steps":[],"attachments":[{"uid":"c84fc71a8e3f2a08","name":"log","source":"c84fc71a8e3f2a08.txt","type":"text/plain","size":3726}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1738979155354,"stop":1738979155354,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1738979155355,"stop":1738979155786,"duration":431},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1738979155787,"stop":1738979155788,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1738979155788,"stop":1738979155788,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1738979155788,"stop":1738979155788,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_upgrade"},{"name":"host","value":"fv-az788-365"},{"name":"thread","value":"18935-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_upgrade"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"398b3c5189c88cc3","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":7,"skipped":30,"passed":197,"unknown":6,"total":240},"items":[{"uid":"c9ffdb3f3af31f21","reportUrl":"../2524//#testresult/c9ffdb3f3af31f21","status":"passed","time":{"start":1738892632084,"stop":1738892849108,"duration":217024}},{"uid":"6fbdae6ad15b7d49","reportUrl":"../2520//#testresult/6fbdae6ad15b7d49","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1738806215170,"stop":1738806215170,"duration":0}},{"uid":"39943f656a24c553","reportUrl":"../2518//#testresult/39943f656a24c553","status":"passed","time":{"start":1738719810669,"stop":1738720007886,"duration":197217}},{"uid":"a9566e4ac1414eb6","reportUrl":"../2514//#testresult/a9566e4ac1414eb6","status":"passed","time":{"start":1738633357824,"stop":1738633556472,"duration":198648}},{"uid":"455ea64e4f654306","reportUrl":"../2510//#testresult/455ea64e4f654306","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1738547040267,"stop":1738547040267,"duration":0}},{"uid":"e23c10780f012d35","reportUrl":"../2509//#testresult/e23c10780f012d35","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1738460461102,"stop":1738460461102,"duration":0}},{"uid":"30850a82ca225f6b","reportUrl":"../2508//#testresult/30850a82ca225f6b","status":"passed","time":{"start":1738374156866,"stop":1738374349260,"duration":192394}},{"uid":"ab2f186e08e25a2","reportUrl":"../2493//#testresult/ab2f186e08e25a2","status":"passed","time":{"start":1738287741135,"stop":1738287949076,"duration":207941}},{"uid":"4b3048ab385de5a4","reportUrl":"../2464//#testresult/4b3048ab385de5a4","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1738201220914,"stop":1738201220914,"duration":0}},{"uid":"de5f665c5360e2b9","reportUrl":"../2444//#testresult/de5f665c5360e2b9","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1738114864758,"stop":1738114864758,"duration":0}},{"uid":"3e10bec0351b35af","reportUrl":"../2431//#testresult/3e10bec0351b35af","status":"passed","time":{"start":1738028585068,"stop":1738028795301,"duration":210233}},{"uid":"b5346645f8cfd9c1","reportUrl":"../2422//#testresult/b5346645f8cfd9c1","status":"passed","time":{"start":1737942217233,"stop":1737942427407,"duration":210174}},{"uid":"4b45ba396919db0f","reportUrl":"../2421//#testresult/4b45ba396919db0f","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1737855669935,"stop":1737855669935,"duration":0}},{"uid":"11320d10099e41b7","reportUrl":"../2420//#testresult/11320d10099e41b7","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\nmysql-router-k8s/0 [idle] active: Router 8.0.39+testupgrade running (restart pending); Charmed operator 1.2+ba00b33-dirty\n  mysql-router-k8s/1 [idle] active: Router 8.0.39+testupgrade running (restart pending); Charmed operator 1.2+ba00b33-dirty\n  mysql-router-k8s/2 [idle] active: Router 8.0.39+testupgrade running; Charmed operator 1.2+ba00b33-dirty","time":{"start":1737769332921,"stop":1737770610473,"duration":1277552}},{"uid":"1b3015f25c3e2add","reportUrl":"../2373//#testresult/1b3015f25c3e2add","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1737682803413,"stop":1737682803413,"duration":0}},{"uid":"69af3910bc8c193b","reportUrl":"../2332//#testresult/69af3910bc8c193b","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1737596523148,"stop":1737596523148,"duration":0}},{"uid":"81f2415bc5c3eee6","reportUrl":"../2269//#testresult/81f2415bc5c3eee6","status":"passed","time":{"start":1737510598002,"stop":1737510816257,"duration":218255}},{"uid":"5c426c901040fcd5","reportUrl":"../2252//#testresult/5c426c901040fcd5","status":"passed","time":{"start":1737423749065,"stop":1737423965125,"duration":216060}},{"uid":"980846b142e6efbe","reportUrl":"../2247//#testresult/980846b142e6efbe","status":"passed","time":{"start":1737337389652,"stop":1737337581636,"duration":191984}},{"uid":"fdc7689f7b72cb7a","reportUrl":"../2246//#testresult/fdc7689f7b72cb7a","status":"passed","time":{"start":1737250997016,"stop":1737251215372,"duration":218356}}]},"tags":["asyncio","abort_on_fail"]},"source":"9e905cb59882a7d9.json","parameterValues":[]}